(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["news_detail"],{"063c":function(t,e,n){"use strict";n.d(e,"e",function(){return s}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return r}),n.d(e,"f",function(){return c}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return u});n("cadf"),n("551c"),n("097d");var i=n("365c"),s=function(t,e){return i["a"].put("api/comment/new",{production:t,content:e})},a=function(t){return i["a"].get("api/comment/num/"+t)},r=function(t,e,n){return i["a"].get("api/comment/list/"+t+"/"+e+"/"+n)},c=function(t,e){return i["a"].put("api/comment/news",{production:t,content:e})},o=function(t){return i["a"].get("api/comment/newsNum/"+t)},u=function(t,e,n){return i["a"].get("api/comment/newslist/"+t+"/"+e+"/"+n)}},"214f":function(t,e,n){"use strict";var i=n("32e9"),s=n("2aba"),a=n("79e5"),r=n("be13"),c=n("2b4c");t.exports=function(t,e,n){var o=c(t),u=n(r,o,""[t]),l=u[0],m=u[1];a(function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})&&(s(String.prototype,t,l),i(RegExp.prototype,o,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)}))}},"7cb7":function(t,e,n){},a481:function(t,e,n){n("214f")("replace",2,function(t,e,n){return[function(i,s){"use strict";var a=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,a,s):n.call(String(a),i,s)},n]})},aa2a:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var i=n("365c"),s=function(){return i["a"].get("api/news/list")},a=function(t){return i["a"].get("api/news/detail/"+t)}},bf5e:function(t,e,n){},cc27:function(t,e,n){"use strict";var i=n("bf5e"),s=n.n(i);s.a},e730:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vueComment"},[n("div",{staticClass:"comment-sub"},[t._t("userhead"),n("div",{staticClass:"inputBox"},[n("div",{staticClass:"textarea",attrs:{contenteditable:"true",placeholder:"请输入评论..."},on:{input:function(e){t.inputComment=e.target.innerHTML}}})])],2),n("div",{staticClass:"comment-sub-btn"},[t._m(0),n("div",{staticClass:"btns"},[n("div",{staticClass:"cancel",on:{click:t.cancel}},[t._v("取消")]),n("div",{staticClass:"submit",class:{active:t.inputComment.length>0},on:{click:t.submit}},[t._v("发送")])])]),n("div",{staticClass:"top_info"},[t._v(t._s(t.total)+" 条评论")]),n("div",{staticClass:"replayList"},[n("mescroll-vue",{attrs:{down:t.mescrollDown,up:t.mescrollUp},on:{init:t.mescrollInit}},[n("div",{staticClass:"scroll-page"},t._l(t.list,function(e,i){return n("div",{key:i,staticClass:"item"},[n("div",{staticClass:"headBox"},[n("img",{attrs:{src:t.headurl+e.userhead,alt:""}})]),n("div",{staticClass:"right"},[n("div",{staticClass:"editor"},[n("span",{staticClass:"username"},[t._v(t._s(e.nickname))]),n("span",{staticClass:"createTime"},[t._v(t._s(t._f("timeFilter")(e.dateTime)))])]),n("div",{staticClass:"content",domProps:{innerHTML:t._s(e.content)}})])])}))])],1)])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tips"},[n("div",{staticClass:"info"})])}],a=(n("cadf"),n("551c"),n("097d"),n("8d6b")),r={created:function(){window.num=10},props:["total","size","list","headurl"],data:function(){return{inputComment:"",mescroll:"",mescrollDown:{use:!1}}},methods:{mescrollInit:function(t){this.mescroll=t},upCallback:function(t,e){this.$emit("next",t,e)},cancel:function(){this.inputComment="",document.querySelector(".textarea").innerHTML=""},submit:function(){this.inputComment.length>0&&this.$emit("submit",this.inputComment,this.refash,this.mescroll)},refash:function(){this.cancel()}},computed:{mescrollUp:function(){return{callback:this.upCallback,page:{num:0,size:this.size},noMoreSize:2,toTop:{src:"mescroll-totop.png"},lazyLoad:{use:!0},loadFull:{use:!0,delay:500}}}},components:{MescrollVue:a["a"]},filters:{timeFilter:function(t){var e=new Date(parseInt(t)),n=e.getFullYear(),i=e.getMonth()+1,s=e.getDate();return n+"-"+(i<10?"0"+i:i)+"-"+(s<10?"0"+s:s)}}},c=r,o=(n("cc27"),n("2877")),u=Object(o["a"])(c,i,s,!1,null,"69e079a0",null);u.options.__file="responsiveComment.vue";e["a"]=u.exports},f90a:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row",staticStyle:{"margin-top":"20px"}},[n("div",{staticClass:"col-md-10 offset-md-1 articleBox"},[n("div",{staticClass:"title"},[n("h2",[t._v(t._s(t.news.title))]),n("small",[t._v(t._s(t._f("timeFilter")(t.news.dateTime)))])]),n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.news.content)}})])]),t._e()])},s=[],a=(n("a481"),n("96cf"),n("3040")),r=n("aa2a"),c=n("063c"),o=n("b7f9"),u=n("51be"),l=n("e730"),m={created:function(){this.baseUrl=u["b"],this.userheadUrl=u["g"],this.init()},data:function(){return{baseUrl:"",userheadUrl:"",news:{},commentList:[],commentNum:0,commentSize:5}},methods:{init:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.commit(o["g"]),t.next=3,Object(r["a"])(this.$route.params.id);case 3:return e=t.sent,t.next=6,Object(c["c"])(this.$route.params.id);case 6:if(n=t.sent,this.$store.commit(o["f"]),0!=e.data.state){t.next=11;break}return alert(e.data.text),t.abrupt("return");case 11:this.news=e.data.body,this.news.content=this.news.content.replace(/<img src="\//g,'<img src="'+this.baseUrl),this.commentNum=n.data.body.total,document.title="趣乐码-新闻《".concat(this.news.title,"》");case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),addComment:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e,n,i){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.commit(o["g"]),t.next=3,Object(c["f"])(this.$route.params.id,e);case 3:if(s=t.sent,this.$store.commit(o["f"]),0!=s.data.state){t.next=8;break}return alert(s.data.text),t.abrupt("return");case 8:n(),i.resetUpScroll(),this.commentNum+=1;case 11:case"end":return t.stop()}},t,this)}));return function(e,n,i){return t.apply(this,arguments)}}(),getComment:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e,n){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return 1===e.num&&(this.commentList=[]),t.next=3,Object(c["d"])(this.$route.params.id,e.num,this.commentSize);case 3:i=t.sent,this.commentList=this.commentList.concat(i.data.body),this.$nextTick(function(){n.endSuccess(i.data.body.length)});case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),clickStick:function(t){var e=this;"down"==t.type?(setTimeout(function(){e.touchS=!0},500),this.touchClock=setInterval(function(){e.touchS&&window.frames["game"].my_handleKeyDown(t.value.keycode,t.value.key)},30),window.frames["game"].my_handleKeyDown(t.value.keycode,t.value.key)):(this.touchS=!1,clearInterval(this.touchClock),window.frames["game"].my_handleKeyUp(t.value.keycode,t.value.key)),console.log(t)},stickInit:function(t){this.stickIni=t}},components:{responsiveComment:l["a"]},mounted:function(){},filters:{timeFilter:function(t){var e=new Date(parseInt(t)),n=e.getFullYear(),i=e.getMonth()+1,s=e.getDate();return n+"-"+(i<10?"0"+i:i)+"-"+(s<10?"0"+s:s)}}},d=m,f=(n("fdfc"),n("2877")),p=Object(f["a"])(d,i,s,!1,null,"0a45b654",null);p.options.__file="detail.vue";e["default"]=p.exports},fdfc:function(t,e,n){"use strict";var i=n("7cb7"),s=n.n(i);s.a}}]);
//# sourceMappingURL=news_detail.2128b1c1.js.map